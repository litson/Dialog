!function(t,e){function i(t){var e=t,i=e.getWrapper(),n=e.options;return i.appendChild(e.getHeader()),i.appendChild(e.getContainer()),i.appendChild(e.getFooter()),e.title(n.title),e.content(n.content),e.top("10%"),e.addButton("取消",function(){e.remove()}),n.modal&&e.getModal(),n.fixed&&(i.style.position="fixed"),n.autoHide&&e.autoHide(n.autoHide),n.callBack&&e.addButton("确定",n.callBack),i.addEventListener("click",o,!1),i.addEventListener("touchstart",r,!1),i.addEventListener("touchend",r,!1),u.body.appendChild(i),setTimeout(function(){e.addClass("dialog-zoom-in")},50),e}function n(t,e){var i=u.createElement(t);return c.extend(i,e),i}function o(t){var e=t.target,i=e.getAttribute("data-dialog-action");i&&c.event.fire(i,e)}function r(t){var e=t.target,i=e.getAttribute("data-dialog-action");i&&e.classList.toggle("active")}function s(t){var e=n("div");return e.style.cssText=";background:rgba(0,0,0,0.3);width:100%;position:fixed;left:0;top:0;height:100%;z-index:"+(t.currentDOMIndex-1),e.onclick=function(){t.options.preventHide||t.remove()},u.body.appendChild(e)}function a(t){return"[object Function]"===Object.prototype.toString.call(t)}function d(t){return null===t||void 0===t?!1:t.constructor=={}.constructor}var h=t,u=e,c=function(t,e){return new c.fn.init(t,e)};c.fn=c.prototype={constructor:c,init:function(t,e){if(this.options={title:"提示",modal:!0,content:"",autoHide:0,fixed:!0,preventHide:!1,callBack:null},this.buttons=[],d(t))c.extend(this.options,t);else{if(!/string|number|boolean/gi.test(typeof t))return this;this.options.content=t,a(e)&&(this.options.callBack=e)}return i(this)}},c.extend=c.fn.extend=function(){var t,e,i=arguments[0]||{},n=arguments[1]||{};1===arguments.length&&(i=this,n=arguments[0]);for(t in n)e=n[t],void 0!==e&&(i[t]=e);return i},c.fn.init.prototype=c.fn,h.jDialog=c,c.event={actions:{},add:function(t,e){return this.actions[t]=e,this},remove:function(t){return delete this.actions[t]},has:function(t){return!!this.actions[t]},once:function(t){return this.has(t)&&this.fire(t).remove(t)},fire:function(t,e){return this.has(t)&&this.actions[t].call(e||h),this}},c.fn.extend({hide:function(){return this.getWrapper().style.display="none",this.hideModal(),this},show:function(){return this.getWrapper().style.display="",this.showModal(),this},getWrapper:function(){return this.wrapper||(this.wrapper=n("div",{className:"dialog"}),this.wrapper.style.zIndex=this.currentDOMIndex=614),this.wrapper},getHeader:function(){return this.header?this.header:this.header=n("div",{className:"dialog-header"})},hideHeader:function(){return this.getHeader().style.display="none",this},getContainer:function(){return this.container?this.container:this.container=n("div",{className:"dialog-body"})},getFooter:function(){return this.footer?this.footer:this.footer=n("div",{className:"dialog-footer"})},hideFooter:function(){return this.getFooter().style.display="none",this},addButton:function(t,e,i){var o=("jDialog"+Math.random()).replace(/\D/g,""),r="确定";if(a(t))return this.addButton(r,e||o,t);if(a(e))return this.addButton(t,o,e);var s=n("a",{href:"javascript:;",className:"dialog-btn",innerHTML:t||r});e=e||o,c.event.add(e,i),s.setAttribute("data-dialog-action",e);var d=this.getFooter();return d.appendChild(s),this.buttons.push(s),s},addClass:function(t,e){return e=e||this.getWrapper(),1===e.nodeType&&"string"==typeof t&&e.classList.add(t),this},autoHide:function(t){return 0==t?this.remove():void 0===t?this.autoHide(this.options.autoHide):(this.autoHideTimer&&clearTimeout(this.autoHideTimer),this.autoHideTimer=setTimeout(function(){this.remove(),clearTimeout(this.autoHideTimer),this.autoHideTimer=null}.bind(this),1e3*t),this)},remove:function(){return this.wrapper&&(this.wrapper.removeEventListener("click",o,!1),this.wrapper.removeEventListener("touchstart",r,!1),this.wrapper.removeEventListener("touchend",r,!1),u.body.removeChild(this.wrapper)),this.modal&&(this.modal.onclick=null,u.body.removeChild(this.modal)),this.autoHideTimer&&clearTimeout(this.autoHideTimer),this.buttons.forEach(function(t){c.event.remove(t.getAttribute("data-dialog-action"))}),this.buttons=this.container=this.footer=this.header=this.options=this.wrapper=this.modal=null,this},getModal:function(){return this.modal||(this.modal=s(this)),this.modal},hideModal:function(){return this.modal&&(this.modal.style.display="none"),this},showModal:function(){return this.modal&&(this.modal.style.display=""),this}});var l=function(t){return/em|px|rem|pt|%|auto/gi.test(t)||(t+="px"),t};c.fn.extend({title:function(t){return"undefined"==typeof t?this.options.title:(this.getHeader().innerHTML=this.options.title=t,this)},content:function(t){return"undefined"==typeof t?this.options.content:(this.getContainer().innerHTML=this.options.content=t,this)},height:function(t){return"undefined"==typeof t?this.height(this.getWrapper()):1===t.nodeType?t.offsetHeight:(this.wrapper.style.height=l(t),this)},width:function(t){return"undefined"==typeof t?this.width(this.getWrapper()):1===t.nodeType?t.offsetWidth:(c.extend(this.wrapper.style,{width:l(t),marginLeft:l(-(parseFloat(t)/2))}),this)},index:function(t){return"undefined"==typeof t?this.currentDOMIndex:(this.currentDOMIndex=t,this.wrapper.style.zIndex=this.currentDOMIndex,this.getModal().style.zIndex=this.currentDOMIndex-1,this)},top:function(t){return"undefined"==typeof t?h.getComputedStyle(this.getWrapper()).top:(c.extend(this.wrapper.style,{top:l(t),marginTop:""}),this)},preventHide:function(){return this.options.preventHide=!0,this}}),c.extend({toast:function(t,e){var i=c({content:t,modal:!1}).addClass("dialog-toast"),n=i.getContainer(),o=i.height(n);return i.getContainer().style.textAlign="center",i.hideFooter().hideHeader().height(o).autoHide(e||3),i}})}(window,window.document);